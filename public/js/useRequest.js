import{n as t,i as e,r as n,y as r,k as o,o as i,ab as a,m as u,R as s,h as c,z as l,u as f,w as p,ac as d,ad as h,V as v,_ as m,d as g,e as y,j as b,q as w,f as x,g as O,b as T}from"./index.js";import{l as j,m as P,n as M,P as C}from"./index4.js";function k(e,n,r,o){var i=t.unstable_batchedUpdates?function e(n){t.unstable_batchedUpdates(r,n)}:r;return e.addEventListener&&e.addEventListener(n,i,o),{remove:function t(){e.removeEventListener&&e.removeEventListener(n,i,o)}}}var S=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==t?void 0:t.substr(0,4)))};function _(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function E(t,n,r){var o=t[n]||{};return e(e({},o),r)}function D(t,e,n,r){for(var o=n.points,i=Object.keys(t),a=0;a<i.length;a+=1){var u=i[a];if(_(t[u].points,o,r))return"".concat(e,"-placement-").concat(u)}return""}function R(t){var e=t.prefixCls,n=t.motion,r=t.animation,o=t.transitionName;return n||(r?{motionName:"".concat(e,"-").concat(r)}:o?{motionName:o}:null)}function A(t){var a=t.prefixCls,u=t.visible,s=t.zIndex,c=t.mask,l=t.maskMotion,f=t.maskAnimation,p=t.maskTransitionName;if(!c)return null;var d={};return(l||p||f)&&(d=e({motionAppear:!0},R({motion:l,prefixCls:a,transitionName:p,animation:f}))),n.exports.createElement(r,o({},d,{visible:u,removeOnLeave:!0}),(function(t){var e=t.className;return n.exports.createElement("div",{style:{zIndex:s},className:i("".concat(a,"-mask"),e)})}))}var N=function(t){if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();if(n.width||n.height)return!0}return!1},H;function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function I(){if(void 0!==H)return H;H="";var t=document.createElement("p").style,e="Transform";for(var n in F)n+e in t&&(H=n);return H}function B(){return I()?"".concat(I(),"TransitionProperty"):"transitionProperty"}function Y(){return I()?"".concat(I(),"Transform"):"transform"}function X(t,e){var n=B();n&&(t.style[n]=e,"transitionProperty"!==n&&(t.style.transitionProperty=e))}function U(t,e){var n=Y();n&&(t.style[n]=e,"transform"!==n&&(t.style.transform=e))}function $(t){return t.style.transitionProperty||t.style[B()]}function q(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(Y());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var K=/matrix\((.*)\)/,G=/matrix3d\((.*)\)/,Q,Z;function J(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Y());if(r&&"none"!==r){var o,i=r.match(K),a;if(i)(o=(i=i[1]).split(",").map((function(t){return parseFloat(t,10)})))[4]=e.x,o[5]=e.y,U(t,"matrix(".concat(o.join(","),")"));else(o=r.match(G)[1].split(",").map((function(t){return parseFloat(t,10)})))[12]=e.x,o[13]=e.y,U(t,"matrix3d(".concat(o.join(","),")"))}else U(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}function tt(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function et(t,e,n){var r=n;if("object"!==W(e))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(t.style[e]=r)):Z(t,e);for(var o in e)e.hasOwnProperty(o)&&et(t,o,e[o])}function nt(t){var e,n,r,o=t.ownerDocument,i=o.body,a=o&&o.documentElement;return e=t.getBoundingClientRect(),n=Math.floor(e.left),r=Math.floor(e.top),{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}function rt(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if("number"!=typeof n){var o=t.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function ot(t){return rt(t)}function it(t){return rt(t,!0)}function at(t){var e=nt(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=ot(r),e.top+=it(r),e}function ut(t){return null!=t&&t==t.window}function st(t){return ut(t)?t.document:9===t.nodeType?t:t.ownerDocument}function ct(t,e,n){var r=n,o="",i=st(t);return(r=r||i.defaultView.getComputedStyle(t,null))&&(o=r.getPropertyValue(e)||r[e]),o}var lt=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),ft=/^(top|right|bottom|left)$/,pt="currentStyle",dt="runtimeStyle",ht="left",vt="px";function mt(t,e){var n=t.currentStyle&&t.currentStyle[e];if(lt.test(n)&&!ft.test(e)){var r=t.style,o=r.left,i=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,r.left="fontSize"===e?"1em":n||0,n=r.pixelLeft+vt,r.left=o,t.runtimeStyle.left=i}return""===n?"auto":n}function gt(t,e){return"left"===t?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function yt(t){return"left"===t?"right":"right"===t?"left":"top"===t?"bottom":"bottom"===t?"top":void 0}function bt(t,e,n){"static"===et(t,"position")&&(t.style.position="relative");var r=-999,o=-999,i=gt("left",n),a=gt("top",n),u=yt(i),s=yt(a);"left"!==i&&(r=999),"top"!==a&&(o=999);var c="",l=at(t);("left"in e||"top"in e)&&(c=$(t)||"",X(t,"none")),"left"in e&&(t.style[u]="",t.style[i]="".concat(r,"px")),"top"in e&&(t.style[s]="",t.style[a]="".concat(o,"px")),tt(t);var f=at(t),p={};for(var d in e)if(e.hasOwnProperty(d)){var h=gt(d,n),v="left"===d?r:o,m=l[d]-f[d];p[h]=h===d?v+m:v-m}et(t,p),tt(t),("left"in e||"top"in e)&&X(t,c);var g={};for(var y in e)if(e.hasOwnProperty(y)){var b=gt(y,n),w=e[y]-l[y];g[b]=y===b?p[b]+w:p[b]-w}et(t,g)}function wt(t,e){var n=at(t),r=q(t),o={x:r.x,y:r.y};"left"in e&&(o.x=r.x+e.left-n.left),"top"in e&&(o.y=r.y+e.top-n.top),J(t,o)}function xt(t,e,n){if(n.ignoreShake){var r=at(t),o=r.left.toFixed(0),i=r.top.toFixed(0),a=e.left.toFixed(0),u=e.top.toFixed(0);if(o===a&&i===u)return}n.useCssRight||n.useCssBottom?bt(t,e,n):n.useCssTransform&&Y()in document.body.style?wt(t,e):bt(t,e,n)}function Ot(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Tt(t){return"border-box"===Z(t,"boxSizing")}"undefined"!=typeof window&&(Z=window.getComputedStyle?ct:mt);var jt=["margin","border","padding"],Pt=-1,Mt=2,Ct=1,kt=0;function St(t,e,n){var r={},o=t.style,i;for(i in e)e.hasOwnProperty(i)&&(r[i]=o[i],o[i]=e[i]);for(i in n.call(t),e)e.hasOwnProperty(i)&&(o[i]=r[i])}function _t(t,e,n){var r=0,o,i,a;for(i=0;i<e.length;i++)if(o=e[i])for(a=0;a<n.length;a++){var u=void 0;u="border"===o?"".concat(o).concat(n[a],"Width"):o+n[a],r+=parseFloat(Z(t,u))||0}return r}var Et={getParent:function t(e){var n=e;do{n=11===n.nodeType&&n.host?n.host:n.parentNode}while(n&&1!==n.nodeType&&9!==n.nodeType);return n}};function Dt(t,e,n){var r=n;if(ut(t))return"width"===e?Et.viewportWidth(t):Et.viewportHeight(t);if(9===t.nodeType)return"width"===e?Et.docWidth(t):Et.docHeight(t);var o="width"===e?["Left","Right"]:["Top","Bottom"],i="width"===e?Math.floor(t.getBoundingClientRect().width):Math.floor(t.getBoundingClientRect().height),a=Tt(t),u=0;(null==i||i<=0)&&(i=void 0,(null==(u=Z(t,e))||Number(u)<0)&&(u=t.style[e]||0),u=parseFloat(u)||0),void 0===r&&(r=a?1:-1);var s=void 0!==i||a,c=i||u;return-1===r?s?c-_t(t,["border","padding"],o):u:s?1===r?c:c+(2===r?-_t(t,["border"],o):_t(t,["margin"],o)):u+_t(t,jt.slice(r),o)}Ot(["Width","Height"],(function(t){Et["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],Et["viewport".concat(t)](n))},Et["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,o=r.body,i,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||o&&o[n]||a}}));var Rt={position:"absolute",visibility:"hidden",display:"block"};function At(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,o=e[0];return 0!==o.offsetWidth?r=Dt.apply(void 0,e):St(o,Rt,(function(){r=Dt.apply(void 0,e)})),r}function Nt(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Ot(["width","height"],(function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);Et["outer".concat(e)]=function(e,n){return e&&At(e,t,n?0:1)};var n="width"===t?["Left","Right"]:["Top","Bottom"];Et[t]=function(e,r){var o=r,i;return void 0!==o?e?(Tt(e)&&(o+=_t(e,["padding","border"],n)),et(e,t,o)):void 0:e&&At(e,t,-1)}}));var Ht={getWindow:function t(e){if(e&&e.document&&e.setTimeout)return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},getDocument:st,offset:function t(e,n,r){if(void 0===n)return at(e);xt(e,n,r||{})},isWindow:ut,each:Ot,css:et,clone:function t(e){var n,r={},o;for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);if(e.overflow)for(n in e)e.hasOwnProperty(n)&&(r.overflow[n]=e.overflow[n]);return r},mix:Nt,getWindowScrollLeft:function t(e){return ot(e)},getWindowScrollTop:function t(e){return it(e)},merge:function t(){for(var e={},n=0;n<arguments.length;n++)Ht.mix(e,n<0||arguments.length<=n?void 0:arguments[n]);return e},viewportWidth:0,viewportHeight:0};Nt(Ht,Et);var Vt=Ht.getParent;function zt(t){if(Ht.isWindow(t)||9===t.nodeType)return null;var e,n=Ht.getDocument(t).body,r,o=Ht.css(t,"position"),i;if(!("fixed"===o||"absolute"===o))return"html"===t.nodeName.toLowerCase()?null:Vt(t);for(r=Vt(t);r&&r!==n&&9!==r.nodeType;r=Vt(r))if("static"!==(o=Ht.css(r,"position")))return r;return null}var Wt=Ht.getParent;function Lt(t){if(Ht.isWindow(t)||9===t.nodeType)return!1;var e=Ht.getDocument(t),n=e.body,r=null;for(r=Wt(t);r&&r!==n&&r!==e;r=Wt(r)){var o;if("fixed"===Ht.css(r,"position"))return!0}return!1}function Ft(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=zt(t),o=Ht.getDocument(t),i=o.defaultView||o.parentWindow,a=o.body,u=o.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===u||"visible"===Ht.css(r,"overflow")){if(r===a||r===u)break}else{var s=Ht.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=zt(r)}var c=null,l;Ht.isWindow(t)||9===t.nodeType||(c=t.style.position,"absolute"===Ht.css(t,"position")&&(t.style.position="fixed"));var f=Ht.getWindowScrollLeft(i),p=Ht.getWindowScrollTop(i),d=Ht.viewportWidth(i),h=Ht.viewportHeight(i),v=u.scrollWidth,m=u.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(v=i.innerWidth),"hidden"===g.overflowY&&(m=i.innerHeight),t.style&&(t.style.position=c),e||Lt(t))n.left=Math.max(n.left,f),n.top=Math.max(n.top,p),n.right=Math.min(n.right,f+d),n.bottom=Math.min(n.bottom,p+h);else{var y=Math.max(v,f+d);n.right=Math.min(n.right,y);var b=Math.max(m,p+h);n.bottom=Math.min(n.bottom,b)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function It(t,e,n,r){var o=Ht.clone(t),i={width:e.width,height:e.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),Ht.mix(o,i)}function Bt(t){var e,n,r;if(Ht.isWindow(t)||9===t.nodeType){var o=Ht.getWindow(t);e={left:Ht.getWindowScrollLeft(o),top:Ht.getWindowScrollTop(o)},n=Ht.viewportWidth(o),r=Ht.viewportHeight(o)}else e=Ht.offset(t),n=Ht.outerWidth(t),r=Ht.outerHeight(t);return e.width=n,e.height=r,e}function Yt(t,e){var n=e.charAt(0),r=e.charAt(1),o=t.width,i=t.height,a=t.left,u=t.top;return"c"===n?u+=i/2:"b"===n&&(u+=i),"c"===r?a+=o/2:"r"===r&&(a+=o),{left:a,top:u}}function Xt(t,e,n,r,o){var i=Yt(e,n[1]),a=Yt(t,n[0]),u=[a.left-i.left,a.top-i.top];return{left:Math.round(t.left-u[0]+r[0]-o[0]),top:Math.round(t.top-u[1]+r[1]-o[1])}}function Ut(t,e,n){return t.left<n.left||t.left+e.width>n.right}function $t(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function qt(t,e,n){return t.left>n.right||t.left+e.width<n.left}function Kt(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function Gt(t,e,n){var r=[];return Ht.each(t,(function(t){r.push(t.replace(e,(function(t){return n[t]})))})),r}function Qt(t,e){return t[e]=-t[e],t}function Zt(t,e){var n;return(n=/%$/.test(t)?parseInt(t.substring(0,t.length-1),10)/100*e:parseInt(t,10))||0}function Jt(t,e){t[0]=Zt(t[0],e.width),t[1]=Zt(t[1],e.height)}function te(t,e,n,r){var o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0],u=n.overflow,s=n.source||t;i=[].concat(i),a=[].concat(a);var c={},l=0,f,p=Ft(s,!(!(u=u||{})||!u.alwaysByViewport)),d=Bt(s);Jt(i,d),Jt(a,e);var h=Xt(d,e,o,i,a),v=Ht.merge(d,h);if(p&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&Ut(h,d,p)){var m=Gt(o,/[lr]/gi,{l:"r",r:"l"}),g=Qt(i,0),y=Qt(a,0),b;qt(Xt(d,e,m,g,y),d,p)||(l=1,o=m,i=g,a=y)}if(u.adjustY&&$t(h,d,p)){var w=Gt(o,/[tb]/gi,{t:"b",b:"t"}),x=Qt(i,1),O=Qt(a,1),T;Kt(Xt(d,e,w,x,O),d,p)||(l=1,o=w,i=x,a=O)}l&&(h=Xt(d,e,o,i,a),Ht.mix(v,h));var j=Ut(h,d,p),P=$t(h,d,p);if(j||P){var M=o;j&&(M=Gt(o,/[lr]/gi,{l:"r",r:"l"})),P&&(M=Gt(o,/[tb]/gi,{t:"b",b:"t"})),o=M,i=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=u.adjustX&&j,c.adjustY=u.adjustY&&P,(c.adjustX||c.adjustY)&&(v=It(h,d,p,c))}return v.width!==d.width&&Ht.css(s,"width",Ht.width(s)+v.width-d.width),v.height!==d.height&&Ht.css(s,"height",Ht.height(s)+v.height-d.height),Ht.offset(s,{left:v.left,top:v.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:i,targetOffset:a,overflow:c}}function ee(t,e){var n=Ft(t,e),r=Bt(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function ne(t,e,n){var r=n.target||e,o,i;return te(t,Bt(r),n,!ee(r,n.overflow&&n.overflow.alwaysByViewport))}function re(t,e,n){var r,o,i=Ht.getDocument(t),a=i.defaultView||i.parentWindow,u=Ht.getWindowScrollLeft(a),s=Ht.getWindowScrollTop(a),c=Ht.viewportWidth(a),l=Ht.viewportHeight(a),f={left:r="pageX"in e?e.pageX:u+e.clientX,top:o="pageY"in e?e.pageY:s+e.clientY,width:0,height:0},p=r>=0&&r<=u+c&&o>=0&&o<=s+l,d=[n.points[0],"cc"];return te(t,f,z(z({},n),{},{points:d}),p)}function oe(){this.__data__=[],this.size=0}ne.__getOffsetParent=zt,ne.__getVisibleRectForElement=Ft;var ie=oe;function ae(t,e){return t===e||t!=t&&e!=e}var ue=ae,se=ue;function ce(t,e){for(var n=t.length;n--;)if(se(t[n][0],e))return n;return-1}var le=ce,fe=le,pe,de=Array.prototype.splice;function he(t){var e=this.__data__,n=fe(e,t),r;return!(n<0)&&(n==e.length-1?e.pop():de.call(e,n,1),--this.size,!0)}var ve,me=le;function ge(t){var e=this.__data__,n=me(e,t);return n<0?void 0:e[n][1]}var ye,be=le;function we(t){return be(this.__data__,t)>-1}var xe,Oe=le;function Te(t,e){var n=this.__data__,r=Oe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var je,Pe=ie,Me=he,Ce=ge,ke=we,Se=Te;function _e(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_e.prototype.clear=Pe,_e.prototype.delete=Me,_e.prototype.get=Ce,_e.prototype.has=ke,_e.prototype.set=Se;var Ee=_e,De=Ee;function Re(){this.__data__=new De,this.size=0}var Ae=Re;function Ne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var He=Ne;function Ve(t){return this.__data__.get(t)}var ze=Ve;function We(t){return this.__data__.has(t)}var Le=We,Fe,Ie="object"==typeof a&&a&&a.Object===Object&&a,Be=Ie,Ye="object"==typeof self&&self&&self.Object===Object&&self,Xe,Ue=Be||Ye||Function("return this")(),$e,qe,Ke=Ue.Symbol,Ge=Ke,Qe=Object.prototype,Ze=Qe.hasOwnProperty,Je=Qe.toString,tn=Ge?Ge.toStringTag:void 0;function en(t){var e=Ze.call(t,tn),n=t[tn];try{t[tn]=void 0;var r=!0}catch(i){}var o=Je.call(t);return r&&(e?t[tn]=n:delete t[tn]),o}var nn=en,rn,on=Object.prototype.toString;function an(t){return on.call(t)}var un,sn=Ke,cn=nn,ln=an,fn="[object Null]",pn="[object Undefined]",dn=Ke?Ke.toStringTag:void 0;function hn(t){return null==t?void 0===t?pn:fn:dn&&dn in Object(t)?cn(t):ln(t)}var vn=hn;function mn(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var gn=mn,yn=vn,bn=gn,wn="[object AsyncFunction]",xn="[object Function]",On="[object GeneratorFunction]",Tn="[object Proxy]";function jn(t){if(!bn(t))return!1;var e=yn(t);return e==xn||e==On||e==wn||e==Tn}var Pn=jn,Mn,Cn,kn,Sn=Ue["__core-js_shared__"],_n=(En=/[^.]+$/.exec(Sn&&Sn.keys&&Sn.keys.IE_PROTO||""))?"Symbol(src)_1."+En:"",En;function Dn(t){return!!_n&&_n in t}var Rn=Dn,An,Nn=Function.prototype.toString;function Hn(t){if(null!=t){try{return Nn.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var Vn=Hn,zn=Pn,Wn=Rn,Ln=gn,Fn=Vn,In=/[\\^$.*+?()[\]{}|]/g,Bn=/^\[object .+?Constructor\]$/,Yn=Function.prototype,Xn=Object.prototype,Un=Yn.toString,$n=Xn.hasOwnProperty,qn=RegExp("^"+Un.call($n).replace(In,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kn;function Gn(t){return!(!Ln(t)||Wn(t))&&(zn(t)?qn:Bn).test(Fn(t));var e}function Qn(t,e){return null==t?void 0:t[e]}var Zn,Jn=Gn,tr=Qn;function er(t,e){var n=tr(t,e);return Jn(n)?n:void 0}var nr=er,rr,or,ir,ar=nr(Ue,"Map"),ur,sr,cr=nr(Object,"create"),lr=cr;function fr(){this.__data__=lr?lr(null):{},this.size=0}var pr=fr;function dr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hr=dr,vr=cr,mr="__lodash_hash_undefined__",gr,yr=Object.prototype.hasOwnProperty;function br(t){var e=this.__data__;if(vr){var n=e[t];return n===mr?void 0:n}return yr.call(e,t)?e[t]:void 0}var wr=br,xr=cr,Or,Tr=Object.prototype.hasOwnProperty;function jr(t){var e=this.__data__;return xr?void 0!==e[t]:Tr.call(e,t)}var Pr,Mr=cr,Cr="__lodash_hash_undefined__";function kr(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mr&&void 0===e?Cr:e,this}var Sr,_r=pr,Er=hr,Dr=wr,Rr=jr,Ar=kr;function Nr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nr.prototype.clear=_r,Nr.prototype.delete=Er,Nr.prototype.get=Dr,Nr.prototype.has=Rr,Nr.prototype.set=Ar;var Hr,Vr=Nr,zr=Ee,Wr=ar,Lr;function Fr(){this.size=0,this.__data__={hash:new Vr,map:new(Wr||zr),string:new Vr}}function Ir(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var Br,Yr=Ir;function Xr(t,e){var n=t.__data__;return Yr(e)?n["string"==typeof e?"string":"hash"]:n.map}var Ur=Xr,$r=Xr;function qr(t){var e=$r(this,t).delete(t);return this.size-=e?1:0,e}var Kr,Gr=Xr;function Qr(t){return Gr(this,t).get(t)}var Zr,Jr=Xr;function to(t){return Jr(this,t).has(t)}var eo,no=Xr;function ro(t,e){var n=no(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oo,io=Fr,ao=qr,uo=Qr,so=to,co=ro;function lo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lo.prototype.clear=io,lo.prototype.delete=ao,lo.prototype.get=uo,lo.prototype.has=so,lo.prototype.set=co;var fo=lo,po=Ee,ho=ar,vo=fo,mo=200;function go(t,e){var n=this.__data__;if(n instanceof po){var r=n.__data__;if(!ho||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new vo(r)}return n.set(t,e),this.size=n.size,this}var yo,bo=Ee,wo=Ae,xo=He,Oo=ze,To=Le,jo=go;function Po(t){var e=this.__data__=new bo(t);this.size=e.size}Po.prototype.clear=wo,Po.prototype.delete=xo,Po.prototype.get=Oo,Po.prototype.has=To,Po.prototype.set=jo;var Mo=Po,Co="__lodash_hash_undefined__",ko;function So(t){return this.__data__.set(t,Co),this}function _o(t){return this.__data__.has(t)}var Eo,Do=fo,Ro=So,Ao=_o,No,Ho;function Vo(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Do;++e<n;)this.add(t[e])}function zo(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Wo(t,e){return t.has(e)}Vo.prototype.add=Vo.prototype.push=Ro,Vo.prototype.has=Ao;var Lo,Fo=Vo,Io=zo,Bo=Wo,Yo=1,Xo=2;function Uo(t,e,n,r,o,i){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(t),l=i.get(e);if(c&&l)return c==e&&l==t;var f=-1,p=!0,d=2&n?new Fo:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var h=t[f],v=e[f];if(r)var m=a?r(v,h,f,e,t,i):r(h,v,f,t,e,i);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!Io(e,(function(t,e){if(!Bo(d,e)&&(h===t||o(h,t,n,r,i)))return d.push(e)}))){p=!1;break}}else if(h!==v&&!o(h,v,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p}var $o=Uo,qo,Ko,Go,Qo;function Zo(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Jo(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var ti,ei=Ke,ni=Ue.Uint8Array,ri=ue,oi=$o,ii=Zo,ai=Jo,ui=1,si=2,ci="[object Boolean]",li="[object Date]",fi="[object Error]",pi="[object Map]",di="[object Number]",hi="[object RegExp]",vi="[object Set]",mi="[object String]",gi="[object Symbol]",yi="[object ArrayBuffer]",bi="[object DataView]",wi=Ke?Ke.prototype:void 0,xi=wi?wi.valueOf:void 0;function Oi(t,e,n,r,o,i,a){switch(n){case bi:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yi:return!(t.byteLength!=e.byteLength||!i(new ni(t),new ni(e)));case ci:case li:case di:return ri(+t,+e);case fi:return t.name==e.name&&t.message==e.message;case hi:case mi:return t==e+"";case pi:var u=ii;case vi:var s=1&r;if(u||(u=ai),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=oi(u(t),u(e),r,o,i,a);return a.delete(t),l;case gi:if(xi)return xi.call(t)==xi.call(e)}return!1}var Ti=Oi;function ji(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var Pi=ji,Mi,Ci=Array.isArray,ki=Pi,Si=Ci;function _i(t,e,n){var r=e(t);return Si(t)?r:ki(r,n(t))}var Ei=_i,Di;function Ri(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Ai(){return[]}var Ni,Hi=Ri,Vi=Ai,zi,Wi=Object.prototype.propertyIsEnumerable,Li=Object.getOwnPropertySymbols,Fi,Ii=Li?function(t){return null==t?[]:(t=Object(t),Hi(Li(t),(function(e){return Wi.call(t,e)})))}:Vi;function Bi(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Yi=Bi;function Xi(t){return null!=t&&"object"==typeof t}var Ui=Xi,$i=vn,qi=Ui,Ki="[object Arguments]";function Gi(t){return qi(t)&&$i(t)==Ki}var Qi,Zi=Gi,Ji=Ui,ta=Object.prototype,ea=ta.hasOwnProperty,na=ta.propertyIsEnumerable,ra,oa=Zi(function(){return arguments}())?Zi:function(t){return Ji(t)&&ea.call(t,"callee")&&!na.call(t,"callee")},ia={exports:{}},aa,ua,sa,ca,la,fa,pa,da,ha,va,ma;function ga(){return!1}ua=ia,ca=Ue,la=ga,fa=(sa=ia.exports)&&!sa.nodeType&&sa,pa=fa&&ua&&!ua.nodeType&&ua,ha=pa&&pa.exports===fa?ca.Buffer:void 0,ma=(ha?ha.isBuffer:void 0)||la,ua.exports=ma;var ya=9007199254740991,ba=/^(?:0|[1-9]\d*)$/;function wa(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ba.test(t))&&t>-1&&t%1==0&&t<e}var xa=wa,Oa=9007199254740991;function Ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var ja=Ta,Pa=vn,Ma=ja,Ca=Ui,ka="[object Arguments]",Sa="[object Array]",_a="[object Boolean]",Ea="[object Date]",Da="[object Error]",Ra="[object Function]",Aa="[object Map]",Na="[object Number]",Ha="[object Object]",Va="[object RegExp]",za="[object Set]",Wa="[object String]",La="[object WeakMap]",Fa="[object ArrayBuffer]",Ia="[object DataView]",Ba,Ya="[object Float64Array]",Xa="[object Int8Array]",Ua="[object Int16Array]",$a="[object Int32Array]",qa="[object Uint8Array]",Ka="[object Uint8ClampedArray]",Ga="[object Uint16Array]",Qa="[object Uint32Array]",Za={};function Ja(t){return Ca(t)&&Ma(t.length)&&!!Za[Pa(t)]}Za["[object Float32Array]"]=Za[Ya]=Za[Xa]=Za[Ua]=Za[$a]=Za[qa]=Za[Ka]=Za[Ga]=Za[Qa]=!0,Za[ka]=Za[Sa]=Za[Fa]=Za[_a]=Za[Ia]=Za[Ea]=Za[Da]=Za[Ra]=Za[Aa]=Za[Na]=Za[Ha]=Za[Va]=Za[za]=Za[Wa]=Za[La]=!1;var tu=Ja;function eu(t){return function(e){return t(e)}}var nu=eu,ru={exports:{}};!function(t,e){var n=Ie,r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,i,a=o&&o.exports===r&&n.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=u}(ru,ru.exports);var ou=tu,iu=nu,au=ru.exports,uu=au&&au.isTypedArray,su,cu=uu?iu(uu):ou,lu=Yi,fu=oa,pu=Ci,du=ia.exports,hu=xa,vu=cu,mu,gu=Object.prototype.hasOwnProperty;function yu(t,e){var n=pu(t),r=!n&&fu(t),o=!n&&!r&&du(t),i=!n&&!r&&!o&&vu(t),a=n||r||o||i,u=a?lu(t.length,String):[],s=u.length;for(var c in t)!e&&!gu.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||hu(c,s))||u.push(c);return u}var bu=yu,wu=Object.prototype;function xu(t){var e=t&&t.constructor,n;return t===("function"==typeof e&&e.prototype||wu)}var Ou=xu;function Tu(t,e){return function(n){return t(e(n))}}var ju,Pu,Mu=Tu(Object.keys,Object),Cu,ku=Ou,Su=Mu,_u,Eu=Object.prototype.hasOwnProperty;function Du(t){if(!ku(t))return Su(t);var e=[];for(var n in Object(t))Eu.call(t,n)&&"constructor"!=n&&e.push(n);return e}var Ru,Au=Pn,Nu=ja;function Hu(t){return null!=t&&Nu(t.length)&&!Au(t)}var Vu,zu=bu,Wu=Du,Lu=Hu;function Fu(t){return Lu(t)?zu(t):Wu(t)}var Iu,Bu=Ei,Yu=Ii,Xu=Fu;function Uu(t){return Bu(t,Xu,Yu)}var $u,qu=Uu,Ku=1,Gu,Qu=Object.prototype.hasOwnProperty;function Zu(t,e,n,r,o,i){var a=1&n,u=qu(t),s=u.length,c,l;if(s!=qu(e).length&&!a)return!1;for(var f=s;f--;){var p=u[f];if(!(a?p in e:Qu.call(e,p)))return!1}var d=i.get(t),h=i.get(e);if(d&&h)return d==e&&h==t;var v=!0;i.set(t,e),i.set(e,t);for(var m=a;++f<s;){var g=t[p=u[f]],y=e[p];if(r)var b=a?r(y,g,p,e,t,i):r(g,y,p,t,e,i);if(!(void 0===b?g===y||o(g,y,n,r,i):b)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return i.delete(t),i.delete(e),v}var Ju=Zu,ts,es,ns,rs,os,is,as,us,ss,cs,ls,fs,ps,ds,hs,vs,ms=nr(Ue,"DataView"),gs=ar,ys=nr(Ue,"Promise"),bs=nr(Ue,"Set"),ws=nr(Ue,"WeakMap"),xs=vn,Os=Vn,Ts="[object Map]",js="[object Object]",Ps="[object Promise]",Ms="[object Set]",Cs="[object WeakMap]",ks="[object DataView]",Ss=Os(ms),_s=Os(gs),Es=Os(ys),Ds=Os(bs),Rs=Os(ws),As=xs;(ms&&As(new ms(new ArrayBuffer(1)))!=ks||gs&&As(new gs)!=Ts||ys&&As(ys.resolve())!=Ps||bs&&As(new bs)!=Ms||ws&&As(new ws)!=Cs)&&(As=function(t){var e=xs(t),n=e==js?t.constructor:void 0,r=n?Os(n):"";if(r)switch(r){case Ss:return ks;case _s:return Ts;case Es:return Ps;case Ds:return Ms;case Rs:return Cs}return e});var Ns,Hs=Mo,Vs=$o,zs=Ti,Ws=Ju,Ls=As,Fs=Ci,Is=ia.exports,Bs=cu,Ys=1,Xs="[object Arguments]",Us="[object Array]",$s="[object Object]",qs,Ks=Object.prototype.hasOwnProperty;function Gs(t,e,n,r,o,i){var a=Fs(t),u=Fs(e),s=a?Us:Ls(t),c=u?Us:Ls(e),l=(s=s==Xs?$s:s)==$s,f=(c=c==Xs?$s:c)==$s,p=s==c;if(p&&Is(t)){if(!Is(e))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new Hs),a||Bs(t)?Vs(t,e,n,r,o,i):zs(t,e,s,n,r,o,i);if(!(1&n)){var d=l&&Ks.call(t,"__wrapped__"),h=f&&Ks.call(e,"__wrapped__");if(d||h){var v=d?t.value():t,m=h?e.value():e;return i||(i=new Hs),o(v,m,n,r,i)}}return!!p&&(i||(i=new Hs),Ws(t,e,n,r,o,i))}var Qs,Zs=Gs,Js=Ui;function tc(t,e,n,r,o){return t===e||(null==t||null==e||!Js(t)&&!Js(e)?t!=t&&e!=e:Zs(t,e,n,r,tc,o))}var ec,nc=tc;function rc(t,e){return nc(t,e)}var oc=rc;function ic(t,e){return t===e||!(!t||!e)&&("pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e&&(t.clientX===e.clientX&&t.clientY===e.clientY))}function ac(t,e){t!==document.activeElement&&P(e,t)&&"function"==typeof t.focus&&t.focus()}function uc(t,e){var n=null,r=null;function o(t){var o,i=u(t,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),s=a.width,c=a.height,l=Math.floor(s),f=Math.floor(c);n===l&&r===f||Promise.resolve().then((function(){e({width:l,height:f})})),n=l,r=f}}var i=new j(o);return t&&i.observe(t),function(){i.disconnect()}}var sc=function(t,e){var n=s.useRef(!1),r=s.useRef(null);function o(){window.clearTimeout(r.current)}function i(a){if(o(),n.current&&!0!==a)r.current=window.setTimeout((function(){n.current=!1,i()}),e);else{if(!1===t())return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),e)}}return[i,function(){n.current=!1,o()}]};function cc(t){return"function"!=typeof t?null:t()}function lc(t){return"object"===l(t)&&t?t:null}var fc=function t(e,n){var r=e.children,o=e.disabled,i=e.target,a=e.align,l=e.onAlign,f=e.monitorWindowResize,p=e.monitorBufferTime,d=void 0===p?0:p,h=s.useRef({}),v=s.useRef(),m=s.Children.only(r),g=s.useRef({});g.current.disabled=o,g.current.target=i,g.current.align=a,g.current.onAlign=l;var y=sc((function(){var t=g.current,e=t.disabled,n=t.target,r=t.align,o=t.onAlign;if(!e&&n){var i=v.current,a,u=cc(n),s=lc(n);h.current.element=u,h.current.point=s,h.current.align=r;var c,l=document.activeElement;return u&&N(u)?a=ne(i,u,r):s&&(a=re(i,s,r)),ac(l,i),o&&a&&o(i,a),!0}return!1}),d),b=u(y,2),w=b[0],x=b[1],O=s.useRef({cancel:function t(){}}),T=s.useRef({cancel:function t(){}});s.useEffect((function(){var t=cc(i),e=lc(i);v.current!==T.current.element&&(T.current.cancel(),T.current.element=v.current,T.current.cancel=uc(v.current,w)),h.current.element===t&&ic(h.current.point,e)&&oc(h.current.align,a)||(w(),O.current.element!==t&&(O.current.cancel(),O.current.element=t,O.current.cancel=uc(t,w)))})),s.useEffect((function(){o?x():w()}),[o]);var j=s.useRef(null);return s.useEffect((function(){f?j.current||(j.current=k(window,"resize",w)):j.current&&(j.current.remove(),j.current=null)}),[f]),s.useEffect((function(){return function(){O.current.cancel(),T.current.cancel(),j.current&&j.current.remove(),x()}}),[]),s.useImperativeHandle(n,(function(){return{forceAlign:function t(){return w(!0)}}})),s.isValidElement(m)&&(m=s.cloneElement(m,{ref:c(m.ref,v)})),m},pc=s.forwardRef(fc);pc.displayName="Align";var dc=["measure","alignPre","align",null,"motion"],hc=function(t,e){var r=f(null),o=u(r,2),i=o[0],a=o[1],s=n.exports.useRef();function c(t){a(t,!0)}function l(){p.cancel(s.current)}function v(t){l(),s.current=p((function(){c((function(t){switch(i){case"align":return"motion";case"motion":return"stable"}return t})),null==t||t()}))}return n.exports.useEffect((function(){c("measure")}),[t]),n.exports.useEffect((function(){if("measure"===i)e();i&&(s.current=p(d(h().mark((function t(){var e,n;return h().wrap((function t(r){for(;;)switch(r.prev=r.next){case 0:e=dc.indexOf(i),(n=dc[e+1])&&-1!==e&&c(n);case 3:case"end":return r.stop()}}),t)})))))}),[i]),n.exports.useEffect((function(){return function(){l()}}),[]),[i,v]},vc=function(t){var e=n.exports.useState({width:0,height:0}),r=u(e,2),o=r[0],i=r[1],a;function s(t){i({width:t.offsetWidth,height:t.offsetHeight})}return[n.exports.useMemo((function(){var e={};if(t){var n=o.width,r=o.height;-1!==t.indexOf("height")&&r?e.height=r:-1!==t.indexOf("minHeight")&&r&&(e.minHeight=r),-1!==t.indexOf("width")&&n?e.width=n:-1!==t.indexOf("minWidth")&&n&&(e.minWidth=n)}return e}),[t,o]),s]},mc=n.exports.forwardRef((function(t,a){var s=t.visible,c=t.prefixCls,l=t.className,f=t.style,p=t.children,d=t.zIndex,h=t.stretch,v=t.destroyPopupOnHide,m=t.forceRender,g=t.align,y=t.point,b=t.getRootDomNode,w=t.getClassNameFromAlign,x=t.onAlign,O=t.onMouseEnter,T=t.onMouseLeave,j=t.onMouseDown,P=t.onTouchStart,C=t.onClick,k=n.exports.useRef(),S=n.exports.useRef(),_=n.exports.useState(),E=u(_,2),D=E[0],A=E[1],N=vc(h),H=u(N,2),V=H[0],z=H[1];function W(){h&&z(b())}var L=hc(s,W),F=u(L,2),I=F[0],B=F[1],Y=n.exports.useState(0),X=u(Y,2),U=X[0],$=X[1],q=n.exports.useRef();function K(){return y||b}function G(){var t;null===(t=k.current)||void 0===t||t.forceAlign()}function Q(t,e){var n=w(e);D!==n&&A(n),$((function(t){return t+1})),"align"===I&&(null==x||x(t,e))}M((function(){"alignPre"===I&&$(0)}),[I]),M((function(){"align"===I&&(U<2?G():B((function(){var t;null===(t=q.current)||void 0===t||t.call(q)})))}),[U]);var Z=e({},R(t));function J(){return new Promise((function(t){q.current=t}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(t){var e=Z[t];Z[t]=function(t,n){return B(),null==e?void 0:e(t,n)}})),n.exports.useEffect((function(){Z.motionName||"motion"!==I||B()}),[Z.motionName,I]),n.exports.useImperativeHandle(a,(function(){return{forceAlign:G,getElement:function t(){return S.current}}}));var tt=e(e({},V),{},{zIndex:d,opacity:"motion"!==I&&"stable"!==I&&s?0:void 0,pointerEvents:s||"stable"===I?void 0:"none"},f),et=!0;!(null==g?void 0:g.points)||"align"!==I&&"stable"!==I||(et=!1);var nt=p;return n.exports.Children.count(p)>1&&(nt=n.exports.createElement("div",{className:"".concat(c,"-content")},p)),n.exports.createElement(r,o({visible:s,ref:S,leavedClassName:"".concat(c,"-hidden")},Z,{onAppearPrepare:J,onEnterPrepare:J,removeOnLeave:v,forceRender:m}),(function(t,r){var o=t.className,a=t.style,u=i(c,l,D,o);return n.exports.createElement(pc,{target:K(),key:"popup",ref:k,monitorWindowResize:!0,disabled:et,align:g,onAlign:Q},n.exports.createElement("div",{ref:r,className:u,onMouseEnter:O,onMouseLeave:T,onMouseDownCapture:j,onTouchStartCapture:P,onClick:C,style:e(e({},a),tt)},nt))}))}));mc.displayName="PopupInner";var gc=n.exports.forwardRef((function(t,a){var u=t.prefixCls,s=t.visible,c=t.zIndex,l=t.children,f=t.mobile,p=(f=void 0===f?{}:f).popupClassName,d=f.popupStyle,h=f.popupMotion,v=void 0===h?{}:h,m=f.popupRender,g=t.onClick,y=n.exports.useRef();n.exports.useImperativeHandle(a,(function(){return{forceAlign:function t(){},getElement:function t(){return y.current}}}));var b=e({zIndex:c},d),w=l;return n.exports.Children.count(l)>1&&(w=n.exports.createElement("div",{className:"".concat(u,"-content")},l)),m&&(w=m(w)),n.exports.createElement(r,o({visible:s,ref:y,removeOnLeave:!0},v),(function(t,r){var o=t.className,a=t.style,s=i(u,p,o);return n.exports.createElement("div",{ref:r,className:s,onClick:g,style:e(e({},a),b)},w)}))}));gc.displayName="MobilePopupInner";var yc=["visible","mobile"],bc=n.exports.forwardRef((function(t,r){var i=t.visible,a=t.mobile,s=v(t,yc),c=n.exports.useState(i),l=u(c,2),f=l[0],p=l[1],d=n.exports.useState(!1),h=u(d,2),m=h[0],g=h[1],y=e(e({},s),{},{visible:f});n.exports.useEffect((function(){p(i),i&&a&&g(S())}),[i,a]);var b=m?n.exports.createElement(gc,o({},y,{mobile:a,ref:r})):n.exports.createElement(mc,o({},y,{ref:r}));return n.exports.createElement("div",null,n.exports.createElement(A,y),b)}));bc.displayName="Popup";var wc=n.exports.createContext(null);function xc(){}function Oc(){return""}function Tc(t){return t?t.ownerDocument:window.document}var jc=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Pc(r){var a=function(a){m(s,a);var u=g(s);function s(e){var r,i;return y(this,s),(r=u.call(this,e)).popupRef=n.exports.createRef(),r.triggerRef=n.exports.createRef(),r.portalContainer=void 0,r.attachId=void 0,r.clickOutsideHandler=void 0,r.touchOutsideHandler=void 0,r.contextMenuOutsideHandler1=void 0,r.contextMenuOutsideHandler2=void 0,r.mouseDownTimeout=void 0,r.focusTime=void 0,r.preClickTime=void 0,r.preTouchTime=void 0,r.delayTimer=void 0,r.hasPopupMouseDown=void 0,r.onMouseEnter=function(t){var e=r.props.mouseEnterDelay;r.fireEvents("onMouseEnter",t),r.delaySetPopupVisible(!0,e,e?null:t)},r.onMouseMove=function(t){r.fireEvents("onMouseMove",t),r.setPoint(t)},r.onMouseLeave=function(t){r.fireEvents("onMouseLeave",t),r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onPopupMouseEnter=function(){r.clearDelayTimer()},r.onPopupMouseLeave=function(t){var e;t.relatedTarget&&!t.relatedTarget.setTimeout&&P(null===(e=r.popupRef.current)||void 0===e?void 0:e.getElement(),t.relatedTarget)||r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onFocus=function(t){r.fireEvents("onFocus",t),r.clearDelayTimer(),r.isFocusToShow()&&(r.focusTime=Date.now(),r.delaySetPopupVisible(!0,r.props.focusDelay))},r.onMouseDown=function(t){r.fireEvents("onMouseDown",t),r.preClickTime=Date.now()},r.onTouchStart=function(t){r.fireEvents("onTouchStart",t),r.preTouchTime=Date.now()},r.onBlur=function(t){r.fireEvents("onBlur",t),r.clearDelayTimer(),r.isBlurToHide()&&r.delaySetPopupVisible(!1,r.props.blurDelay)},r.onContextMenu=function(t){t.preventDefault(),r.fireEvents("onContextMenu",t),r.setPopupVisible(!0,t)},r.onContextMenuClose=function(){r.isContextMenuToShow()&&r.close()},r.onClick=function(t){if(r.fireEvents("onClick",t),r.focusTime){var e;if(r.preClickTime&&r.preTouchTime?e=Math.min(r.preClickTime,r.preTouchTime):r.preClickTime?e=r.preClickTime:r.preTouchTime&&(e=r.preTouchTime),Math.abs(e-r.focusTime)<20)return;r.focusTime=0}r.preClickTime=0,r.preTouchTime=0,r.isClickToShow()&&(r.isClickToHide()||r.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var n=!r.state.popupVisible;(r.isClickToHide()&&!n||n&&r.isClickToShow())&&r.setPopupVisible(!r.state.popupVisible,t)},r.onPopupMouseDown=function(){var t;(r.hasPopupMouseDown=!0,clearTimeout(r.mouseDownTimeout),r.mouseDownTimeout=window.setTimeout((function(){r.hasPopupMouseDown=!1}),0),r.context)&&(t=r.context).onPopupMouseDown.apply(t,arguments)},r.onDocumentClick=function(t){if(!r.props.mask||r.props.maskClosable){var e=t.target,n=r.getRootDomNode(),o=r.getPopupDomNode();P(n,e)&&!r.isContextMenuOnly()||P(o,e)||r.hasPopupMouseDown||r.close()}},r.getRootDomNode=function(){var e=r.props.getTriggerDOMNode;if(e)return e(r.triggerRef.current);try{var n=b(r.triggerRef.current);if(n)return n}catch(o){}return t.findDOMNode(w(r))},r.getPopupClassNameFromAlign=function(t){var e=[],n=r.props,o=n.popupPlacement,i=n.builtinPlacements,a=n.prefixCls,u=n.alignPoint,s=n.getPopupClassNameFromAlign;return o&&i&&e.push(D(i,a,t,u)),s&&e.push(s(t)),e.join(" ")},r.getComponent=function(){var t=r.props,e=t.prefixCls,i=t.destroyPopupOnHide,a=t.popupClassName,u=t.onPopupAlign,s=t.popupMotion,c=t.popupAnimation,l=t.popupTransitionName,f=t.popupStyle,p=t.mask,d=t.maskAnimation,h=t.maskTransitionName,v=t.maskMotion,m=t.zIndex,g=t.popup,y=t.stretch,b=t.alignPoint,w=t.mobile,x=t.forceRender,O=t.onPopupClick,T=r.state,j=T.popupVisible,P=T.point,M=r.getPopupAlign(),C={};return r.isMouseEnterToShow()&&(C.onMouseEnter=r.onPopupMouseEnter),r.isMouseLeaveToHide()&&(C.onMouseLeave=r.onPopupMouseLeave),C.onMouseDown=r.onPopupMouseDown,C.onTouchStart=r.onPopupMouseDown,n.exports.createElement(bc,o({prefixCls:e,destroyPopupOnHide:i,visible:j,point:b&&P,className:a,align:M,onAlign:u,animation:c,getClassNameFromAlign:r.getPopupClassNameFromAlign},C,{stretch:y,getRootDomNode:r.getRootDomNode,style:f,mask:p,zIndex:m,transitionName:l,maskAnimation:d,maskTransitionName:h,maskMotion:v,ref:r.popupRef,motion:s,mobile:w,forceRender:x,onClick:O}),"function"==typeof g?g():g)},r.attachParent=function(t){p.cancel(r.attachId);var e=r.props,n=e.getPopupContainer,o=e.getDocument,i=r.getRootDomNode(),a;n?(i||0===n.length)&&(a=n(i)):a=o(r.getRootDomNode()).body,a?a.appendChild(t):r.attachId=p((function(){r.attachParent(t)}))},r.getContainer=function(){if(!r.portalContainer){var t,e=(0,r.props.getDocument)(r.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",r.portalContainer=e}return r.attachParent(r.portalContainer),r.portalContainer},r.setPoint=function(t){var e;r.props.alignPoint&&t&&r.setState({point:{pageX:t.pageX,pageY:t.pageY}})},r.handlePortalUpdate=function(){r.state.prevPopupVisible!==r.state.popupVisible&&r.props.afterPopupVisibleChange(r.state.popupVisible)},r.triggerContextValue={onPopupMouseDown:r.onPopupMouseDown},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,r.state={prevPopupVisible:i,popupVisible:i},jc.forEach((function(t){r["fire".concat(t)]=function(e){r.fireEvents(t,e)}})),r}return x(s,[{key:"componentDidMount",value:function t(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function t(){var e=this.props,n,r;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(r=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=k(r,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(r=r||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=k(r,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(r=r||e.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=k(r,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=k(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function t(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),p.cancel(this.attachId)}},{key:"getPopupDomNode",value:function t(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function t(){var e=this.props,n=e.popupPlacement,r=e.popupAlign,o=e.builtinPlacements;return n&&o?E(o,n,r):r}},{key:"setPopupVisible",value:function t(e,n){var r=this.props.alignPoint,o=this.state.popupVisible;this.clearDelayTimer(),o!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:o}),this.props.onPopupVisibleChange(e)),r&&n&&e&&this.setPoint(n)}},{key:"delaySetPopupVisible",value:function t(e,n,r){var o=this,i=1e3*n;if(this.clearDelayTimer(),i){var a=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=window.setTimeout((function(){o.setPopupVisible(e,a),o.clearDelayTimer()}),i)}else this.setPopupVisible(e,r)}},{key:"clearDelayTimer",value:function t(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function t(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function t(e){var n=this.props.children.props,r=this.props;return n[e]&&r[e]?this["fire".concat(e)]:n[e]||r[e]}},{key:"isClickToShow",value:function t(){var e=this.props,n=e.action,r=e.showAction;return-1!==n.indexOf("click")||-1!==r.indexOf("click")}},{key:"isContextMenuOnly",value:function t(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function t(){var e=this.props,n=e.action,r=e.showAction;return-1!==n.indexOf("contextMenu")||-1!==r.indexOf("contextMenu")}},{key:"isClickToHide",value:function t(){var e=this.props,n=e.action,r=e.hideAction;return-1!==n.indexOf("click")||-1!==r.indexOf("click")}},{key:"isMouseEnterToShow",value:function t(){var e=this.props,n=e.action,r=e.showAction;return-1!==n.indexOf("hover")||-1!==r.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function t(){var e=this.props,n=e.action,r=e.hideAction;return-1!==n.indexOf("hover")||-1!==r.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function t(){var e=this.props,n=e.action,r=e.showAction;return-1!==n.indexOf("focus")||-1!==r.indexOf("focus")}},{key:"isBlurToHide",value:function t(){var e=this.props,n=e.action,r=e.hideAction;return-1!==n.indexOf("focus")||-1!==r.indexOf("blur")}},{key:"forcePopupAlign",value:function t(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function t(e,n){var r=this.props.children.props[e];r&&r(n);var o=this.props[e];o&&o(n)}},{key:"close",value:function t(){this.setPopupVisible(!1)}},{key:"render",value:function t(){var o=this.state.popupVisible,a=this.props,u=a.children,s=a.forceRender,l=a.alignPoint,f=a.className,p=a.autoDestroy,d=n.exports.Children.only(u),h={key:"trigger"};this.isContextMenuToShow()?h.onContextMenu=this.onContextMenu:h.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(h.onClick=this.onClick,h.onMouseDown=this.onMouseDown,h.onTouchStart=this.onTouchStart):(h.onClick=this.createTwoChains("onClick"),h.onMouseDown=this.createTwoChains("onMouseDown"),h.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(h.onMouseEnter=this.onMouseEnter,l&&(h.onMouseMove=this.onMouseMove)):h.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?h.onMouseLeave=this.onMouseLeave:h.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(h.onFocus=this.onFocus,h.onBlur=this.onBlur):(h.onFocus=this.createTwoChains("onFocus"),h.onBlur=this.createTwoChains("onBlur"));var v=i(d&&d.props&&d.props.className,f);v&&(h.className=v);var m=e({},h);O(d)&&(m.ref=c(this.triggerRef,d.ref));var g=n.exports.cloneElement(d,m),y;return(o||this.popupRef.current||s)&&(y=n.exports.createElement(r,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!o&&p&&(y=null),n.exports.createElement(wc.Provider,{value:this.triggerContextValue},g,y)}}],[{key:"getDerivedStateFromProps",value:function t(e,n){var r=e.popupVisible,o={};return void 0!==r&&n.popupVisible!==r&&(o.popupVisible=r,o.prevPopupVisible=n.popupVisible),o}}]),s}(n.exports.Component);return a.contextType=wc,a.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Oc,getDocument:Tc,onPopupVisibleChange:xc,afterPopupVisibleChange:xc,onPopupAlign:xc,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},a}var Mc=Pc(C),Cc="Expected a function",kc=NaN,Sc="[object Symbol]",_c=/^\s+|\s+$/g,Ec=/^[-+]0x[0-9a-f]+$/i,Dc=/^0b[01]+$/i,Rc=/^0o[0-7]+$/i,Ac=parseInt,Nc="object"==typeof a&&a&&a.Object===Object&&a,Hc="object"==typeof self&&self&&self.Object===Object&&self,Vc=Nc||Hc||Function("return this")(),zc,Wc=Object.prototype.toString,Lc=Math.max,Fc=Math.min,Ic=function(){return Vc.Date.now()};function Bc(t,e,n){var r,o,i,a,u,s,c=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError(Cc);function d(e){var n=r,i=o;return r=o=void 0,c=e,a=t.apply(i,n)}function h(t){return c=t,u=setTimeout(g,e),l?d(t):a}function v(t){var n,r,o=e-(t-s);return f?Fc(o,i-(t-c)):o}function m(t){var n=t-s,r;return void 0===s||n>=e||n<0||f&&t-c>=i}function g(){var t=Ic();if(m(t))return y(t);u=setTimeout(g,v(t))}function y(t){return u=void 0,p&&r?d(t):(r=o=void 0,a)}function b(){void 0!==u&&clearTimeout(u),c=0,r=s=o=u=void 0}function w(){return void 0===u?a:y(Ic())}function x(){var t=Ic(),n=m(t);if(r=arguments,o=this,s=t,n){if(void 0===u)return h(s);if(f)return u=setTimeout(g,e),d(s)}return void 0===u&&(u=setTimeout(g,e)),a}return e=$c(e)||0,Yc(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Lc($c(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),x.cancel=b,x.flush=w,x}function Yc(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Xc(t){return!!t&&"object"==typeof t}function Uc(t){return"symbol"==typeof t||Xc(t)&&Wc.call(t)==Sc}function $c(t){if("number"==typeof t)return t;if(Uc(t))return NaN;if(Yc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Yc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_c,"");var n=Dc.test(t);return n||Rc.test(t)?Ac(t.slice(2),n?2:8):Ec.test(t)?NaN:+t}var qc=Bc,Kc="Expected a function",Gc=NaN,Qc="[object Symbol]",Zc=/^\s+|\s+$/g,Jc=/^[-+]0x[0-9a-f]+$/i,tl=/^0b[01]+$/i,el=/^0o[0-7]+$/i,nl=parseInt,rl="object"==typeof a&&a&&a.Object===Object&&a,ol="object"==typeof self&&self&&self.Object===Object&&self,il=rl||ol||Function("return this")(),al,ul=Object.prototype.toString,sl=Math.max,cl=Math.min,ll=function(){return il.Date.now()};function fl(t,e,n){var r,o,i,a,u,s,c=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError(Kc);function d(e){var n=r,i=o;return r=o=void 0,c=e,a=t.apply(i,n)}function h(t){return c=t,u=setTimeout(g,e),l?d(t):a}function v(t){var n,r,o=e-(t-s);return f?cl(o,i-(t-c)):o}function m(t){var n=t-s,r;return void 0===s||n>=e||n<0||f&&t-c>=i}function g(){var t=ll();if(m(t))return y(t);u=setTimeout(g,v(t))}function y(t){return u=void 0,p&&r?d(t):(r=o=void 0,a)}function b(){void 0!==u&&clearTimeout(u),c=0,r=s=o=u=void 0}function w(){return void 0===u?a:y(ll())}function x(){var t=ll(),n=m(t);if(r=arguments,o=this,s=t,n){if(void 0===u)return h(s);if(f)return u=setTimeout(g,e),d(s)}return void 0===u&&(u=setTimeout(g,e)),a}return e=ml(e)||0,dl(n)&&(l=!!n.leading,i=(f="maxWait"in n)?sl(ml(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),x.cancel=b,x.flush=w,x}function pl(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError(Kc);return dl(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),fl(t,e,{leading:r,maxWait:e,trailing:o})}function dl(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function hl(t){return!!t&&"object"==typeof t}function vl(t){return"symbol"==typeof t||hl(t)&&ul.call(t)==Qc}function ml(t){if("number"==typeof t)return t;if(vl(t))return NaN;if(dl(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=dl(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Zc,"");var n=tl.test(t);return n||el.test(t)?nl(t.slice(2),n?2:8):Jc.test(t)?NaN:+t}var gl=pl;function yl(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState}function bl(){return void 0===navigator.onLine||navigator.onLine}var wl=new Map,xl=function t(e,n,r){var o=wl.get(e);(null==o?void 0:o.timer)&&clearTimeout(o.timer);var i=void 0;n>-1&&(i=setTimeout((function(){wl.delete(e)}),n)),wl.set(e,{data:r,timer:i,startTime:(new Date).getTime()})},Ol=function t(e){var n=wl.get(e);return{data:null==n?void 0:n.data,startTime:null==n?void 0:n.startTime}},Tl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},jl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tl(arguments[e]));return t};function Pl(t,e){var n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n||(n=!0,t.apply(void 0,jl(r)),setTimeout((function(){n=!1}),e))}}var Ml=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Cl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ml(arguments[e]));return t};function kl(t){var e=n.exports.useRef((function(){throw new Error("Cannot call an event handler while rendering.")}));e.current=t;var r=n.exports.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.current;if(r)return r.apply(void 0,Cl(t))}),[e]);if("function"==typeof t)return r}var Sl=function t(e,r){var o=n.exports.useRef(!1);n.exports.useEffect((function(){return function(){o.current=!1}}),[]),n.exports.useEffect((function(){if(o.current)return e();o.current=!0}),r)},_l=[];function El(t){return _l.push(t),function e(){var n=_l.indexOf(t);_l.splice(n,1)}}var Dl=!1;if("undefined"!=typeof window&&window.addEventListener&&!Dl){var Rl=function t(){if(yl()&&bl())for(var e=0;e<_l.length;e++){var n;(0,_l[e])()}};window.addEventListener("visibilitychange",Rl,!1),window.addEventListener("focus",Rl,!1),Dl=!0}var Al=[];function Nl(t){return Al.push(t),function e(){var n=Al.indexOf(t);Al.splice(n,1)}}var Hl=!1;if("undefined"!=typeof window&&window.addEventListener&&!Hl){var Vl=function t(){if(yl())for(var e=0;e<Al.length;e++){var n;(0,Al[e])()}};window.addEventListener("visibilitychange",Vl,!1),Hl=!0}var zl=function(){return zl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},zl.apply(this,arguments)},Wl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Ll=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wl(arguments[e]));return t},Fl="AHOOKS_USE_REQUEST_DEFAULT_KEY",Il=function(){function t(t,e,n,r){this.count=0,this.pollingWhenVisibleFlag=!1,this.pollingTimer=void 0,this.loadingDelayTimer=void 0,this.unsubscribe=[],this.that=this,this.state={loading:!1,params:[],data:void 0,error:void 0,run:this.run.bind(this.that),mutate:this.mutate.bind(this.that),refresh:this.refresh.bind(this.that),cancel:this.cancel.bind(this.that),unmount:this.unmount.bind(this.that)},this.service=t,this.config=e,this.subscribe=n,r&&(this.state=zl(zl({},this.state),r)),this.debounceRun=this.config.debounceInterval?qc(this._run,this.config.debounceInterval):void 0,this.throttleRun=this.config.throttleInterval?gl(this._run,this.config.throttleInterval):void 0,this.limitRefresh=Pl(this.refresh.bind(this),this.config.focusTimespan),this.config.pollingInterval&&this.unsubscribe.push(Nl(this.rePolling.bind(this))),this.config.refreshOnWindowFocus&&this.unsubscribe.push(El(this.limitRefresh.bind(this)))}return t.prototype.setState=function(t){void 0===t&&(t={}),this.state=zl(zl({},this.state),t),this.subscribe(this.state)},t.prototype._run=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.pollingTimer&&clearTimeout(this.pollingTimer),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.count+=1;var r=this.count;return this.setState({loading:!this.config.loadingDelay,params:e}),this.config.loadingDelay&&(this.loadingDelayTimer=setTimeout((function(){t.setState({loading:!0})}),this.config.loadingDelay)),this.service.apply(this,Ll(e)).then((function(n){if(r!==t.count)return new Promise((function(){}));t.loadingDelayTimer&&clearTimeout(t.loadingDelayTimer);var o=t.config.formatResult?t.config.formatResult(n):n;return t.setState({data:o,error:void 0,loading:!1}),t.config.onSuccess&&t.config.onSuccess(o,e),o})).catch((function(n){if(r!==t.count)return new Promise((function(){}));if(t.loadingDelayTimer&&clearTimeout(t.loadingDelayTimer),t.setState({data:void 0,error:n,loading:!1}),t.config.onError&&t.config.onError(n,e),t.config.throwOnError)throw n;return console.error(n),Promise.reject("useRequest has caught the exception, if you need to handle the exception yourself, you can set options.throwOnError to true.")})).finally((function(){if(r===t.count&&t.config.pollingInterval){if(!yl()&&!t.config.pollingWhenHidden)return void(t.pollingWhenVisibleFlag=!0);t.pollingTimer=setTimeout((function(){t._run.apply(t,Ll(e))}),t.config.pollingInterval)}}))},t.prototype.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.debounceRun?(this.debounceRun.apply(this,Ll(t)),Promise.resolve(null)):this.throttleRun?(this.throttleRun.apply(this,Ll(t)),Promise.resolve(null)):this._run.apply(this,Ll(t))},t.prototype.cancel=function(){this.debounceRun&&this.debounceRun.cancel(),this.throttleRun&&this.throttleRun.cancel(),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingWhenVisibleFlag=!1,this.count+=1,this.setState({loading:!1})},t.prototype.refresh=function(){return this.run.apply(this,Ll(this.state.params))},t.prototype.rePolling=function(){this.pollingWhenVisibleFlag&&(this.pollingWhenVisibleFlag=!1,this.refresh())},t.prototype.mutate=function(t){"function"==typeof t?this.setState({data:t(this.state.data)||{}}):this.setState({data:t})},t.prototype.unmount=function(){this.cancel(),this.unsubscribe.forEach((function(t){t()}))},t}();function Bl(t,e){var r=e||{},o=r.refreshDeps,i=void 0===o?[]:o,a=r.manual,u=void 0!==a&&a,s=r.onSuccess,c=void 0===s?function(){}:s,l=r.onError,f=void 0===l?function(){}:l,p=r.defaultLoading,d=void 0!==p&&p,h=r.loadingDelay,v=r.pollingInterval,m=void 0===v?0:v,g=r.pollingWhenHidden,y=void 0===g||g,b=r.defaultParams,w=void 0===b?[]:b,x=r.refreshOnWindowFocus,O=void 0!==x&&x,T=r.focusTimespan,j=void 0===T?5e3:T,P=r.fetchKey,M=r.cacheKey,C=r.cacheTime,k=void 0===C?3e5:C,S=r.staleTime,_=void 0===S?0:S,E=r.debounceInterval,D=r.throttleInterval,R=r.initialData,A=r.ready,N=void 0===A||A,H=r.throwOnError,V=void 0!==H&&H,z=n.exports.useRef(Fl),W=kl(t),L=kl(c),F=kl(f),I=kl(P),B;"formatResult"in r&&(B=r.formatResult);var Y,X={formatResult:kl(B),onSuccess:L,onError:F,loadingDelay:h,pollingInterval:m,pollingWhenHidden:y,refreshOnWindowFocus:!u&&O,focusTimespan:j,debounceInterval:E,throttleInterval:D,throwOnError:V},U=kl((function(t,e){K((function(n){return n[t]=e,zl({},n)}))})),$=Wl(n.exports.useState((function(){var t;if(M){var e=null===(t=Ol(M))||void 0===t?void 0:t.data;if(e){z.current=e.newstFetchKey;var n={};return Object.keys(e.fetches).forEach((function(t){var r=e.fetches[t],o=new Il(W,X,U.bind(null,t),{loading:r.loading,params:r.params,data:r.data,error:r.error});n[t]=o.state})),n}}return{}})),2),q=$[0],K=$[1],G=n.exports.useRef(q);G.current=q;var Q=n.exports.useRef(),Z=n.exports.useCallback((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(N){if(I){var n=I.apply(void 0,Ll(t));z.current=void 0===n?Fl:n}var r=z.current,o=G.current[r];if(!o){var i=new Il(W,X,U.bind(null,r),{data:R});o=i.state,K((function(t){return t[r]=o,zl({},t)}))}return o.run.apply(o,Ll(t))}Q.current=t}),[P,U,N]),J=n.exports.useRef(Z);J.current=Z,Sl((function(){M&&xl(M,k,{fetches:q,newstFetchKey:z.current})}),[M,q]);var tt=n.exports.useRef(!1);Sl((function(){N&&(!tt.current&&Q.current&&J.current.apply(J,Ll(Q.current)),tt.current=!0)}),[N]),n.exports.useEffect((function(){var t;if(!u)if(Object.keys(q).length>0){var e=M&&(null===(t=Ol(M))||void 0===t?void 0:t.startTime)||0;-1===_||(new Date).getTime()-e<=_||Object.values(q).forEach((function(t){t.refresh()}))}else J.current.apply(J,Ll(w))}),[]);var et=n.exports.useCallback((function(){Object.values(G.current).forEach((function(t){t.unmount()})),z.current=Fl,K({}),G.current={}}),[K]);Sl((function(){u||Object.values(G.current).forEach((function(t){t.refresh()}))}),Ll(i)),n.exports.useEffect((function(){return function(){Object.values(G.current).forEach((function(t){t.unmount()}))}}),[]);var nt=n.exports.useCallback((function(t){return function(){console.warn("You should't call "+t+" when service not executed once.")}}),[]);return zl(zl({loading:N&&!u||d,data:R,error:void 0,params:[],cancel:nt("cancel"),refresh:nt("refresh"),mutate:nt("mutate")},q[z.current]||{}),{run:Z,fetches:q,reset:et})}var Yl=function(){return Yl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Yl.apply(this,arguments)},Xl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ul=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},$l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ul(arguments[e]));return t};function ql(t,e){var r=e.refreshDeps,o=void 0===r?[]:r,i=e.ref,a=e.isNoMore,u=e.threshold,s=void 0===u?100:u;e.fetchKey;var c=Xl(e,["refreshDeps","ref","isNoMore","threshold","fetchKey"]),l=Ul(n.exports.useState(!1),2),f=l[0],p=l[1];n.exports.useEffect((function(){e.fetchKey&&console.warn("useRequest loadMore mode don't need fetchKey!")}),[]);var d=Bl(t,Yl(Yl({},c),{fetchKey:function t(e){var n;return(null===(n=null==e?void 0:e.list)||void 0===n?void 0:n.length)||0},onSuccess:function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];p(!1),e.onSuccess&&e.onSuccess.apply(e,$l(n))}})),h=d.data,v=d.run,m=d.params,g=d.reset,y=d.loading,b=d.fetches,w=n.exports.useCallback((function(){g();var t,e=Ul(m).slice(1);v.apply(void 0,$l([void 0],e))}),[v,g,m]),x=n.exports.useRef(w);x.current=w,Sl((function(){e.manual||x.current()}),$l(o));var O=n.exports.useMemo((function(){var t=[],e=h;return Object.values(b).forEach((function(n){var r,o;(null===(r=n.data)||void 0===r?void 0:r.list)&&(t=t.concat(null===(o=n.data)||void 0===o?void 0:o.list)),n.loading||(e=n.data)})),Yl(Yl({},e),{list:t})}),[b,h]),T=!!a&&(!y&&!f&&a(O)),j=n.exports.useCallback((function(){if(!T){p(!0);var t,e=Ul(m).slice(1);v.apply(void 0,$l([O],e))}}),[T,v,O,m]),P=function t(){!y&&!f&&i&&i.current&&i.current.scrollHeight-i.current.scrollTop<=i.current.clientHeight+s&&j()},M=n.exports.useRef(P);return M.current=P,n.exports.useEffect((function(){if(!i||!i.current)return function(){};var t=function t(){return M.current()};return i.current.addEventListener("scroll",t),function(){i&&i.current&&i.current.removeEventListener("scroll",t)}}),[M]),Yl(Yl({},d),{data:O,reload:w,loading:y&&0===O.list.length,loadMore:j,loadingMore:f,noMore:T})}var Kl=function(){return Kl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Kl.apply(this,arguments)},Gl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ql=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Zl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ql(arguments[e]));return t};function Jl(t,e){e.paginated;var r=e.defaultPageSize,o=void 0===r?10:r,i=e.refreshDeps,a=void 0===i?[]:i,u=e.fetchKey,s=Gl(e,["paginated","defaultPageSize","refreshDeps","fetchKey"]);n.exports.useEffect((function(){u&&console.error("useRequest pagination's fetchKey will not work!")}),[]);var c=Bl(t,Kl({defaultParams:[{current:1,pageSize:o}]},s)),l=c.data,f=c.params,p=c.run,d=c.loading,h=Gl(c,["data","params","run","loading"]),v=f&&f[0]?f[0]:{},m=v.current,g=void 0===m?1:m,y=v.pageSize,b=void 0===y?o:y,w=v.sorter,x=void 0===w?{}:w,O=v.filters,T=void 0===O?{}:O,j=n.exports.useCallback((function(t){var e=Ql(f),n=e[0],r=e.slice(1);p.apply(void 0,Zl([Kl(Kl({},n),t)],r))}),[p,f]),P=(null==l?void 0:l.total)||0,M=n.exports.useMemo((function(){return Math.ceil(P/b)}),[b,P]),C=n.exports.useCallback((function(t,e){var n=t<=0?1:t,r=e<=0?1:e,o=Math.ceil(P/r);n>o&&(n=Math.max(1,o)),j({current:n,pageSize:r})}),[P,j]),k=n.exports.useCallback((function(t){C(t,b)}),[C,b]),S=n.exports.useCallback((function(t){C(g,t)}),[C,g]),_=n.exports.useRef(k);_.current=k,Sl((function(){e.manual||_.current(1)}),Zl(a));var E=n.exports.useCallback((function(t,e,n){j({current:t.current,pageSize:t.pageSize||o,filters:e,sorter:n})}),[T,x,j]);return Kl({loading:d,data:l,params:f,run:p,pagination:{current:g,pageSize:b,total:P,totalPage:M,onChange:C,changeCurrent:k,changePageSize:S},tableProps:{dataSource:(null==l?void 0:l.list)||[],loading:d,onChange:E,pagination:{current:g,pageSize:b,total:P}},sorter:x,filters:T},h)}var tf=s.createContext({});tf.displayName="UseRequestConfigContext";var ef=function(){return ef=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ef.apply(this,arguments)},nf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},rf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},of=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rf(arguments[e]));return t};function af(t,e){void 0===e&&(e={});var r=n.exports.useContext(tf),o=ef(ef({},r),e),i=o.paginated,a=o.loadMore,u=o.requestMethod,s=n.exports.useRef(i),c=n.exports.useRef(a);if(s.current!==i)throw Error("You should not modify the paginated of options");if(c.current!==a)throw Error("You should not modify the loadMore of options");s.current=i,c.current=a;var l=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return fetch.apply(void 0,of(e)).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)}))},f=u||l,p;switch(typeof t){case"string":p=function e(){return f(t)};break;case"object":var d=t.url,h=nf(t,["url"]);p=function e(){return u?u(t):l(d,h)};break;default:p=function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(e,r){var o=t.apply(void 0,of(n)),i=o;if(!o.then)switch(typeof o){case"string":i=f(o);break;case"object":var a=o.url,s=nf(o,["url"]);i=u?u(o):l(a,s)}i.then(e).catch(r)}))}}return a?ql(p,o):i?Jl(p,o):Bl(p,o)}function uf(t,e={}){const{run:n,...r}=af(t,{manual:!0,requestMethod:T,...e});return{request:n,...r}}tf.Provider;export{Mc as T,S as i,uf as u};
